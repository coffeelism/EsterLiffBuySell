<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
  <title>Ester Bot Forex</title>

  <style>
    div {
      margin-bottom: 10px;
    }
    label {
      display: inline-block;
      width: 150px;
      text-align: right;
    }

    .button {
      background-color: #4CAF50; /* Green */
      border: none;
      color: white;
      padding: 15px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
      -webkit-transition-duration: 0.4s; /* Safari */
      transition-duration: 0.4s;
    }

    .button1 {
      box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
    }

    .button2:hover {
      box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);
    }

    .group {
      margin-bottom: 17px;
    }
    .group label {
      font-size: 17px;
    }
    .group2 label {
      font-size: 17px;
    }

    body {
      background-image: url('background.jpg');
    }

    /* .nav a {
        -khtml-box-shadow: 10px 10px 5px #888888;
        -webkit-box-shadow: 10px 10px 5px #888888;
        -moz-box-shadow: 10px 10px 5px #888888;
        box-shadow: 10px 10px 5px #888888;
        padding-left: 35px;
    } */

    /* #demotext {
      font-size: 17px;
      text-shadow: 2px 2px 0px #FFFFFF, 5px 4px 0px rgba(0,0,0,0.15), 6px 5px 4px rgba(6,7,7,0.68);
      color: #333333;
      background: #FFFFFF;
      } */

      /* #demotext {
      font-size: 17px;
      text-shadow: 1px 0px 1px #CCCCCC, 0px 1px 1px #EEEEEE, 2px 1px 1px #CCCCCC, 1px 2px 1px #EEEEEE, 3px 2px 1px #CCCCCC, 2px 3px 1px #EEEEEE, 4px 3px 1px #CCCCCC, 3px 4px 1px #EEEEEE, 5px 4px 1px #CCCCCC, 4px 5px 1px #EEEEEE, 6px 5px 1px #CCCCCC, 5px 6px 1px #EEEEEE, 7px 6px 1px #CCCCCC, 8px 2px 2px rgba(0,0,0,0.11);
      color: #000000;
      background: #FFFFFF;
      } */

  </style>

  <link rel="stylesheet" href="css/style.css" media="all">
</head>

<body>
    
	<br>

    <br>
    <div class="group"> 
      <label for="fname">Action : </label> 
      <select id="action" name='action' size='3'>
        <option selected="selected" value='OPEN'>OPEN</option>
        <option value='MODIFY'>MODIFY</option>
		<option value='CANCEL'>CANCEL</option>
      </select>
    </div>
    <!-- <br><br> -->
    
    <div class="group"> 
      <label for="lname">Type : </label> 
      <select id="type" name='type' size='2'>
        <option selected="selected" value='BUY'>BUY</option>
		<option value='SELL'>SELL</option>
      </select>
    </div>  
    <!-- <br><br> -->

	<hr />

	<div class="group"> 
      <label for="lname">Lot Size : </label> <input type="text" id="lotSize" name="lotSize" value="0.1">
      <!-- <br><br> -->
    </div>  

    <div class="group"> 
      <label for="lname">Group ID : </label> <input type="text" id="groupID" name="groupID" value="1">
      <!-- <br><br> -->
    </div>  

	<hr />

    <div class="group"> 
      <label for="lname">Start Price : </label> <input type="text" id="startPrice" name="startPrice" value="">
      <!-- <br><br> -->
    </div>   
	
	<div class="group"> 
      <label for="lname">Stop Price : </label> <input type="text" id="stopPrice" name="stopPrice" value="">
      <!-- <br><br> -->
    </div>   

	<div class="group"> 
      <label for="lname">Step : </label> <input type="text" id="step" name="step" value="50">
      <!-- <br><br> -->
    </div>
	
	<hr />

	<div class="group"> 
      <label for="lname">Take Profit : </label> <input type="text" id="takeProfit" name="takeProfit" value="">
      <!-- <br><br> -->
    </div>   
	
	<div class="group"> 
      <label for="lname">Stop Loss : </label> <input type="text" id="stopLoss" name="stopLoss" value="">
      <!-- <br><br> -->
    </div>   
    
    <button id="btnSubmit" class="button button1" onclick="sendMsg()">SUBMIT</button>

  
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script>
    
    async function sendMsg() {
      
      //var exchange = document.getElementById("exchange").value
      //alert(exchange)
      
      // var value = document.getElementById("positionSize").value
      // alert(value)

      var action = document.getElementById("action").value
      var type = document.getElementById("type").value
      var groupID = document.getElementById("groupID").value
	  var lotSize = document.getElementById("lotSize").value
      var startPrice = document.getElementById("startPrice").value
	  var stopPrice = document.getElementById("stopPrice").value
	  var step = document.getElementById("step").value
	  var takeProfit = document.getElementById("takeProfit").value
	  var stopLoss = document.getElementById("stopLoss").value
     
      var message = ""
      if (action == "OPEN") {
		message = action + " " + type + " " + lotSize + " " + groupID + " " + startPrice + " " + stopPrice + " " + step + " " + takeProfit + " " + stopLoss 
	  } else if (action == "MODIFY") {
		message = action + " " + type + " " + groupID + " " + takeProfit + " " + stopLoss
	  } else if (action == "CANCEL") {
		message = action + " " + type + " " + groupID 
	  } 

	 
      // alert(message)

      if (liff.getContext().type !== "none") {
        await liff.sendMessages([
          {
            "type" : "text",
            "text" : message
          }
        ])
      }
      
      liff.closeWindow()

      // if (liff.getContext().type !== "none") {
      //   await liff.sendMessages([
      //     {
      //       "type" : "sticker",
      //       "stickerId" : 1,
      //       "packageId" : 1
      //     },
      //     {
      //       "type" : "text",
      //       "text" : "ทดสอบ"
      //     }
      //   ])
      // }
      // alert("Message Sent")
    }

    async function main() {
      // alert("TEST8-2 - getContext")
      // alert("TEST20")
      await liff.init({ liffId: "1656688551-qvQXDjzW" })

      //var paramBuySell = location.search.split('buysell=')[1]
      
	  // alert(myParam)
      //document.getElementById("buySell").value = 'SWAP'//paramBuySell.toUpperCase()

	  //if (paramBuySell == "CLOSE") {
		  //document.getElementById("exchange").value = 'TFEX'
 		  //document.getElementById("marketType").value = 'DT'
	  //}

      // getEnvironment()
      // getUserProfile()
      // getContext()
      // getFriendship()
      // createUniversalLink()
    }
    main()
  </script>
</body>
</html>
